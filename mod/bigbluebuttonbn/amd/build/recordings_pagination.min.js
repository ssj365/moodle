define("mod_bigbluebuttonbn/recordings_pagination",["exports","core/str"],(function(_exports,_str){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.setupPagination=void 0;_exports.setupPagination=()=>{const tableContainer=document.querySelector(".mod_bigbluebuttonbn_recordings_table");if(!tableContainer)return;const rows=Array.from(tableContainer.querySelectorAll(".row.mb-3.align-items-center")),firstPageBtn=document.getElementById("firstPage"),prevPageBtn=document.getElementById("prevPage"),nextPageBtn=document.getElementById("nextPage"),lastPageBtn=document.getElementById("lastPage"),pageSelect=document.getElementById("pageSelect");if(!(firstPageBtn&&prevPageBtn&&nextPageBtn&&lastPageBtn&&pageSelect))return;let currentPage=1,totalPages=Math.ceil(rows.length/10);function renderTable(page){let visibleIndex=0;rows.forEach((row=>{if("false"===row.dataset.filtered)return void(row.style.display="none");const start=10*(page-1),end=10*page;row.style.display=visibleIndex>=start&&visibleIndex<end?"flex":"none",visibleIndex++}))}async function updatePaginationControls(){const filteredRows=rows.filter((row=>"false"!==row.dataset.filtered));let pageString;pageSelect.innerHTML="";try{pageString=await(0,_str.getString)("view_recording_yui_page","bigbluebuttonbn")}catch(error){pageString="Page"}totalPages=Math.max(1,Math.ceil(filteredRows.length/10));for(let i=1;i<=totalPages;i++){let option=document.createElement("option");option.value=i,option.textContent="".concat(pageString," ").concat(i),i===currentPage&&(option.selected=!0),pageSelect.appendChild(option)}firstPageBtn.disabled=1===currentPage,prevPageBtn.disabled=1===currentPage,nextPageBtn.disabled=currentPage===totalPages,lastPageBtn.disabled=currentPage===totalPages}firstPageBtn.addEventListener("click",(()=>{currentPage=1,renderTable(currentPage),updatePaginationControls()})),prevPageBtn.addEventListener("click",(()=>{currentPage>1&&(currentPage--,renderTable(currentPage),updatePaginationControls())})),nextPageBtn.addEventListener("click",(()=>{currentPage<totalPages&&(currentPage++,renderTable(currentPage),updatePaginationControls())})),lastPageBtn.addEventListener("click",(()=>{currentPage=totalPages,renderTable(currentPage),updatePaginationControls()})),pageSelect.addEventListener("change",(e=>{currentPage=parseInt(e.target.value,10),renderTable(currentPage),updatePaginationControls()})),window.updatePagination=()=>{currentPage=1,renderTable(currentPage),updatePaginationControls()},rows.forEach((row=>{row.dataset.filtered="true",row.style.display="flex"})),renderTable(currentPage),updatePaginationControls()}}));

//# sourceMappingURL=recordings_pagination.min.js.map